---
// src/pages/auth.astro
import Layout from '../layouts/Layout.astro';
import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';
import AuthForm from '../components/AuthForm.astro';

// CLAVE: Obtiene el parámetro 'mode' de la URL.
const url = new URL(Astro.request.url);
const initialMode = url.searchParams.get('mode') === 'register' ? 'register' : 'login';

// Definir la ruta actual
const currentPath = '/auth'; 
const title = initialMode === 'login' ? 'Iniciar Sesión' : 'Registrarse';
---

<Layout title={title}>
    <Header currentPath={currentPath} /> 
    
    <main class="pt-20"> 
        <AuthForm initialMode={initialMode} />
    </main>
    
    <Footer />
</Layout>